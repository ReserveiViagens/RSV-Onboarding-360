# ðŸ”„ CONFIGURAÃ‡ÃƒO DE UPSTREAM PARA TODOS OS 32 MICROSERVIÃ‡OS
# Load balancing definitions para Onion RSV 360

# Core Services
upstream core_service {
    least_conn;
    server core:5000 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream travel_service {
    least_conn;
    server travel:5003 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream finance_service {
    least_conn;
    server finance:5005 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream tickets_service {
    least_conn;
    server tickets:5006 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

# Business Services
upstream attractions_service {
    least_conn;
    server attractions:5009 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream payments_service {
    least_conn;
    server payments:5005 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream ecommerce_service {
    least_conn;
    server ecommerce:5007 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream vouchers_service {
    least_conn;
    server vouchers:5028 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream voucher_editor_service {
    least_conn;
    server voucher-editor:5029 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream giftcards_service {
    least_conn;
    server giftcards:5028 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream coupons_service {
    least_conn;
    server coupons:8012 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

# Specialized Services
upstream parks_service {
    least_conn;
    server parks:5008 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream maps_service {
    least_conn;
    server maps:8022 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream visa_service {
    least_conn;
    server visa:8017 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream marketing_service {
    least_conn;
    server marketing:5014 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream subscriptions_service {
    least_conn;
    server subscriptions:8010 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream seo_service {
    least_conn;
    server seo:8008 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream multilingual_service {
    least_conn;
    server multilingual:8009 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream videos_service {
    least_conn;
    server videos:8023 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream photos_service {
    least_conn;
    server photos:8024 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

# Management Systems
upstream admin_service {
    least_conn;
    server admin:8025 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream analytics_service {
    least_conn;
    server analytics:8026 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream reports_service {
    least_conn;
    server reports:8027 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream data_service {
    least_conn;
    server data:8028 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

# User Services
upstream notifications_service {
    least_conn;
    server notifications:8029 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream reviews_service {
    least_conn;
    server reviews:8030 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream rewards_service {
    least_conn;
    server rewards:8031 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream loyalty_service {
    least_conn;
    server loyalty:8032 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

# Business Operations
upstream sales_service {
    least_conn;
    server sales:8033 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream sectoral_finance_service {
    least_conn;
    server sectoral_finance:8034 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream refunds_service {
    least_conn;
    server refunds:8035 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}

upstream inventory_service {
    least_conn;
    server inventory:8036 max_fails=3 fail_timeout=30s weight=1;
    keepalive 32;
}